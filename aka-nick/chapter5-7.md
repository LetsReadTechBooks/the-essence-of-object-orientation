## 챕터 5~7 정리

### 05 책임과 메시지

#### 뽑은 밑줄 문구
> 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해 서로 다르게 반응하는 것을 의미한다.
> p150

> 다형성을 사용하면 송신자가 수신자의 종류를 모르더라도 메시지를 전송할 수 있다. 즉, 다형성은 수신자의 종류를 캡슐화한다.
> p152

> 송신자가 수신자에 대해 매우 적은 정보만 알고 있더라도 상호협력이 가능하다는 사실은 설계의 품질에 큰 영향을 미친다.
> p153

> 협력 관계 속에서 다른 객체에게 무엇을 제공해야 하고 다른 객체로부터 무엇을 얻어야 하는가라는 관점에서 접근할 때만 훌륭한 책임을 수확할 수 있다.
> p156

> "한 가지 책임의 응답을 받기 위해 공용 인터페이스를 한 개 사용하는가? -> 구체적으로 시키지 않음, 즉 책임이 자율적 -> 적절한 추상화 -> 결합도 떨어짐"
> "하나의 책임을 위해서는 '적절히 추상화 된' 하나의 인터페이스 외에는 공개하지 않는다(구현이 공개되지 않는다) -> 인터페이스 구현의 분리 -> (사적인 비밀의) 캡슐화"
> "(사적인 비밀의) 캡슐화가 잘 지켜지고 있는가? -> 책임의 자율성"
> "같은 책임을 수행하는 다른 객체로 대체 가능한가? -> 다형성 -> 유연함, 재사용성"
> "한 객체가 하나의 역할을 갖고 있는가?(협력 안에서 한 역할로서의 책임을 다하는가?) -> 응집도 상승"
> p174-176 셀프메모

#### 정리
- 추상화 된 협력을 통해 객체 간의 관계는 다형적으로 형성되어 유익(결합도 저하, 유연성/재사용성 증가, 응집도 상승)을 누릴 수 있다.

### 06 객체 지도

#### 뽑은 밑줄 문구
> **자주 변경되는 기능이 아니라 안정적인 구조를 따라 역할, 책임, 협력을 구성하라.**
> p180

> 도메인 모델이란 사용자가 프로그램을 사용하는 대상 영역에 관한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태다.
> ...
> 도메인 모델은 이해관계자들이 바라보는 멘탈 모델(Mental Model)이다.
> ...
> "이해관계자들이 받아들일 수 있는(바라보는) 추상화된 구조 형태"
> p185 셀프메모

> "사용자들이 이해하고 있는 도메인의 구조와 표현된 코드 간의 차이 -> 표현적 차이"
> "표현적 차이가 적게, '잘 은유'되어 도메인과 코드 간 유사성이 나타나는 특징 -> 연결완전성"
> p187 셀프메모

> 첫째, 유스케이스는 사용자와 시스템 간의 상호작용을 보여주는 '텍스트'다.
> ...
> 둘째, 유스케이스는 하나의 시나리오가 아니라 여러 시나리오들의 집합이다.
> 셋째, 유스케이스는 단순한 피처(feature) 목록과 다르다. (* 피처는 문맥이 없음)
> 넷째, 유스케이스는 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다. (* 쉽게 변하지 않는 시스템의 문맥과 쉽게 변하는 UI를 섞어서 표현하지 말자)
> 다섯째, 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다.
> p194-195

> **불안정한 기능**을 **안정적인 구조** 안에 담음으로써 **변경에 대한 파급효과를 최소화**하는 것은 훌륭한 객체지향 설계자가 갖춰야 할 기본적인 설계 능력이다.
> ...
> 시스템이 수행해야 하는 커다란 규모의 책임은 시스템 안에 살아가는 더 작은 크기의 객체들의 협력을 통해 구현될 수 있다.
> p197

> 유스케이스는 사용자에게 제공할 기능을 시스템의 책임으로 보게함으로써 객체 간의 안정적인 구조에 책임을 분배할 수 있는 출발점을 제공한다. 도메인모델은 기능을 수용하기 위해 은유할 수 있는 안정적인 구조를 제공한다. 책임-주도 설계는 유스케이스로부터 첫번째 메시지와 사용자가 달성하려는 목표를, 도메인 모델로부터 기능을 수용할 수 있는 안정적인 구조를 제공받아 실제로 동작하는 객체들의 협력 공동체를 창조한다.
> ...
> 여기서 중요한 것은 사용자의 관점에서 시스템의 기능을 명시하고, 사용자와 설계자가 공유하는 안정적인 구조를 기반으로 기능을 책임으로 변환하는 체계적인 절차를 따라야 한다는 것이다.
> p199

#### 정리
- 도메인 모델은 사용자나 이해관계자가 바라보는 멘탈모델이다. 이를 기반으로 하면 '표현적 차이가 적다는 면에서 변화의 여지도 적다'는 이점으로 안정적인 구조를 제공할 수 있게 된다.
- 유스케이스는 일차액터로부터 요구되는 요청과 응답의 시나리오 집합이다. 사용자에게 제공할 시스템의 문맥을 정리하는 데에 도움이 되므로 이를 통해 객체 간 안정적인 책임 분배가 가능해진다.
- 불안정한 기능을 안정적인 구조에 담아 변경에 대한 파급효과를 최소화한다.

### 07 함께 모으기

#### 뽑은 밑줄 문구
> 개념 관점(Conceptual Perspective)에서 설계는 실제 도메인의 규칙과 제약을 최대한 유사하게 반영하는 것이 핵심이다. 
>     -> 표현적 차이 최소화 -> 완전연결성
> 명세 관점(Specification Perspective)에서 프로그래머는 객체가 협력을 위해 '무엇'을 할 수 있는가에 초점을 맞춘다. 
>     -> 자율적 책임의 공용 인터페이스 -> 역할의 추상화 -> 다형성 -> 결합도 저하, 재사용성 증가
> 구현 관점(Implementation Perspective)은 책임을 '어떻게' 수행할 것인가에 초점을 맞추며 인터페이스를 구현하는 데 필요한 속성과 메서드를 클래스에 추가한다. 
>     -> 인터페이스 구현의 분리 원칙 / 캡슐화 -> 파급효과 최소화, 유연성 증가
> ...
> 코드 안에서 세 가지 관점을 쉽게 식별할 수 있도록 깔끔하게 분리해야 한다.
> p208

> 소프트웨어 클래스가 도메인 개념을 따르면 변화에 쉽게 대응할 수 있다.
> p227

> 구현을 인터페이스 밖으로 노출해서도 안 되고, 인터페이스와 구현을 명확하게 분리하지 않고 흐릿하게 섞어놓아서도 안 된다.
>     -> 명세관점과 구현관점을 명확히 하라.
> p228

#### 정리
- 표현적 차이를 줄이고, 자율적이고 협력적인 객체를 만들고, 인터페이스와 구현을 분리해라. 그리고 모든 것의 시작은 메시지에 있다.
